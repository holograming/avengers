# Tossplace 클론 - 기술 전략 문서

## 프로젝트 결정사항

### 1. 기능 범위
- **선택**: 완전 구현 (모든 기능)
- **포함 사항**:
  - 핵심 POS (결제, 주문, 상품관리)
  - 확장 기능 (배달연동, 키오스크, 테이블오더)
  - UI/UX 포함 완전 구현

### 2. 크로스플랫폼 기술 스택
- **선택**: Qt/QML + C++
- **플랫폼 지원**:
  - Windows (네이티브)
  - macOS (네이티브)
  - Web (별도 검토)

### 3. 완료 기준
- **레벨**: with_execution (코드 + 테스트 + 실행 확인)
- **필수사항**: 모든 테스트 통과
- **권장사항**: 80%+ 테스트 커버리지

## 아키텍처 설계

### 기술 선택 근거

```
┌─────────────────────────────────────────────────┐
│          Tossplace Qt/QML Architecture          │
├─────────────────────────────────────────────────┤
│                                                 │
│  ┌──────────────────────────────────────────┐  │
│  │         Frontend (QML + TypeScript)       │  │
│  │  - UI 레이어 (토스 스타일)                 │  │
│  │  - 상태 관리 (QML State Machine)          │  │
│  │  - 리스너 패턴                             │  │
│  └──────────────────────────────────────────┘  │
│                      ↓                          │
│  ┌──────────────────────────────────────────┐  │
│  │     Application Layer (C++ + Qt)          │  │
│  │  - 비즈니스 로직                           │  │
│  │  - 데이터 모델                             │  │
│  │  - POS 핵심 로직                           │  │
│  └──────────────────────────────────────────┘  │
│                      ↓                          │
│  ┌──────────────────────────────────────────┐  │
│  │     Data Layer (SQLite + Local DB)        │  │
│  │  - 상품/주문/고객 데이터                    │  │
│  │  - 트랜잭션 관리                           │  │
│  │  - 캐싱 레이어                             │  │
│  └──────────────────────────────────────────┘  │
│                                                 │
│  ┌──────────────────────────────────────────┐  │
│  │     External Services Integration         │  │
│  │  - 결제 게이트웨이 (Mock)                  │  │
│  │  - 배달앱 API (Mock)                      │  │
│  │  - 알림 시스템                             │  │
│  └──────────────────────────────────────────┘  │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 프로젝트 구조

```
tossplace-clone/
├── src/
│   ├── core/              # C++ 핵심 로직
│   │   ├── models/        # 데이터 모델
│   │   ├── services/      # 비즈니스 로직
│   │   └── database/      # DB 계층
│   ├── ui/                # QML UI 레이어
│   │   ├── pages/         # 주요 페이지
│   │   ├── components/    # 재사용 컴포넌트
│   │   └── styles/        # 토스 스타일
│   └── main.cpp           # 진입점
├── tests/                 # 단위/통합 테스트
├── CMakeLists.txt         # 빌드 설정
├── qml.qrc                # QML 리소스
└── README.md
```

## 개발 팀 구성

| 에이전트 | 담당 영역 | 작업 범위 |
|---------|---------|---------|
| **IronMan** | 프론트엔드 + 통합 | QML UI, 상태 관리, 통합 |
| **Natasha** | 백엔드 + 데이터 | C++ 비즈니스 로직, DB, API |
| **Groot** | 테스트 | 단위/통합/UI 테스트 |

## 작업 분배 계획

### Phase 1: 기초 구조 (병렬)
- **Task T001 (IronMan)**: QML 프로젝트 구조, 토스 스타일 시스템
- **Task T002 (Natasha)**: C++ 프로젝트 구조, 데이터 모델, DB 초기화

### Phase 2: 핵심 기능 (병렬)
- **Task T003 (IronMan)**: 주문/결제 UI 페이지
- **Task T004 (Natasha)**: 주문 처리, 결제 로직, DB 연동
- **Task T005 (Natasha)**: 상품 관리 로직

### Phase 3: 확장 기능 (병렬)
- **Task T006 (IronMan)**: 키오스크/배달 UI
- **Task T007 (Natasha)**: 배달 연동 로직, 확장 기능

### Phase 4: 테스트 & 최적화
- **Task T008 (Groot)**: 단위/통합 테스트
- **Task T009 (Groot)**: UI 테스트
- **Task T010 (전체)**: 성능 최적화, 버그 수정

## 브랜치 전략

```
test/moc-toss-place (메인 작업 브랜치)
├── worktree/ironman-T001/    # 프론트엔드 작업
├── worktree/natasha-T002/    # 백엔드 작업
├── worktree/ironman-T003/    # UI 기능
├── worktree/natasha-T004/    # 비즈니스 로직
└── (병렬 작업 계속...)
```

## 주의사항

1. **Qt 라이선스**: 오픈소스 라이선스 확인 필요
2. **크로스플랫폼 테스트**: Win/Mac에서 모두 검증
3. **성능**: 네이티브 앱이므로 최적화 필수
4. **배포**: 각 플랫폼별 배포 설정

---

*업데이트: 2025-01-13 Captain*
