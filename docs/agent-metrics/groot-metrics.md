# Groot 에이전트 성공 메트릭

> 테스트 전문가(Test Specialist) 역할의 핵심 성과 지표

---

## 1. 테스트 커버리지 (Test Coverage)

### 1.1 코드 커버리지 지표 (Code Coverage Metrics)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 라인 커버리지 (Line Coverage) | 테스트된 코드 라인 비율 | >= 85% | Jest/Istanbul/NYC |
| 브랜치 커버리지 (Branch Coverage) | 테스트된 분기 비율 | >= 80% | Jest/Istanbul/NYC |
| 함수 커버리지 (Function Coverage) | 테스트된 함수 비율 | >= 95% | Jest/Istanbul/NYC |
| 구문 커버리지 (Statement Coverage) | 테스트된 구문 비율 | >= 85% | Jest/Istanbul/NYC |
| 신규 코드 커버리지 | 새로 작성된 코드의 커버리지 | >= 95% | diff coverage |

### 1.2 테스트 유형별 커버리지 (Coverage by Test Type)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 유닛 테스트 커버리지 | 유닛 테스트로 커버된 코드 비율 | >= 85% | 유닛 테스트 결과 |
| 통합 테스트 커버리지 | API/서비스 통합 테스트 비율 | >= 90% | 통합 테스트 결과 |
| E2E 테스트 커버리지 | 주요 사용자 시나리오 테스트 비율 | >= 80% | E2E 테스트 결과 |
| 스모크 테스트 (Smoke Test) | 핵심 기능 검증 테스트 비율 | 100% | 스모크 테스트 결과 |

### 1.3 커버리지 품질 (Coverage Quality)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 의미 있는 어설션 비율 | 유의미한 검증이 있는 테스트 비율 | >= 95% | 코드 리뷰 |
| 경계값 테스트 비율 | 경계 조건 테스트 비율 | >= 90% | 테스트 분석 |
| 네거티브 테스트 비율 | 실패 케이스 테스트 비율 | >= 80% | 테스트 분석 |
| 커버리지 향상률 | 주간 커버리지 증가율 | >= 1% | 커버리지 추이 |

---

## 2. 플레이키 테스트 제로 (Flaky Test Zero)

### 2.1 테스트 안정성 (Test Stability)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 플레이키 테스트 수 (Flaky Test Count) | 불안정한 테스트 수 | 0 | 반복 실행 분석 |
| 테스트 성공률 (Test Pass Rate) | 동일 조건 테스트 통과율 | 100% | CI 결과 분석 |
| 비결정적 테스트 비율 | 결과가 일관되지 않은 테스트 비율 | 0% | 반복 실행 분석 |
| 테스트 재실행률 | 재실행이 필요한 테스트 비율 | 0% | CI 재실행 로그 |

### 2.2 테스트 격리 (Test Isolation)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 테스트 독립성 | 순서 무관하게 통과하는 테스트 비율 | 100% | 셔플 테스트 |
| 공유 상태 사용률 | 전역 상태를 사용하는 테스트 비율 | <= 5% | 코드 분석 |
| 목/스텁 정리율 | 테스트 후 정리되는 모킹 비율 | 100% | 코드 리뷰 |
| 테스트 데이터 격리율 | 독립된 테스트 데이터 사용 비율 | >= 95% | 테스트 분석 |

### 2.3 플레이키 테스트 관리 (Flaky Test Management)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 플레이키 테스트 감지 시간 | 플레이키 테스트 감지까지 시간 | <= 24시간 | 모니터링 |
| 플레이키 테스트 수정 시간 | 감지 후 수정까지 시간 | <= 48시간 | 이슈 추적 |
| 플레이키 테스트 재발률 | 수정 후 다시 플레이키해지는 비율 | 0% | 히스토리 분석 |

---

## 3. 결함 감지율 (Defect Detection Rate)

### 3.1 결함 발견 효율 (Defect Discovery Efficiency)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 테스트 결함 감지율 | 테스트로 발견된 결함 비율 | >= 90% | `(테스트 발견 버그 / 전체 버그) * 100` |
| 프로덕션 결함 유출률 | 프로덕션에서 발견된 결함 비율 | <= 5% | `(프로덕션 버그 / 전체 버그) * 100` |
| 회귀 버그 감지율 | 회귀 테스트로 감지된 버그 비율 | >= 95% | 회귀 테스트 분석 |
| 조기 결함 발견율 | 개발 단계에서 발견된 결함 비율 | >= 85% | 결함 발견 시점 분석 |

### 3.2 결함 예방 (Defect Prevention)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 결함 밀도 (Defect Density) | 1000 LOC당 결함 수 | <= 0.5 | `(결함 수 / LOC) * 1000` |
| 결함 재발률 | 동일 결함 재발 비율 | <= 2% | 결함 히스토리 |
| 테스트 케이스 유효성 | 결함 발견에 기여한 테스트 비율 | >= 80% | 결함-테스트 매핑 |

### 3.3 결함 심각도 분포 (Defect Severity Distribution)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| Critical 결함 발견율 | Critical 결함 테스트 발견 비율 | 100% | 결함 분석 |
| Major 결함 발견율 | Major 결함 테스트 발견 비율 | >= 95% | 결함 분석 |
| Minor 결함 발견율 | Minor 결함 테스트 발견 비율 | >= 85% | 결함 분석 |

---

## 4. 테스트 효율성 (Test Efficiency)

### 4.1 테스트 실행 성능 (Test Execution Performance)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 유닛 테스트 실행 시간 | 전체 유닛 테스트 실행 시간 | <= 5분 | CI 로그 |
| 통합 테스트 실행 시간 | 전체 통합 테스트 실행 시간 | <= 15분 | CI 로그 |
| E2E 테스트 실행 시간 | 전체 E2E 테스트 실행 시간 | <= 30분 | CI 로그 |
| 테스트당 평균 실행 시간 | 개별 테스트 평균 실행 시간 | <= 100ms (unit) | 테스트 로그 분석 |

### 4.2 테스트 유지보수성 (Test Maintainability)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 테스트 코드 중복률 | 테스트 코드 중복 비율 | <= 10% | 코드 분석 |
| 테스트 헬퍼 활용률 | 테스트 유틸리티 사용 비율 | >= 80% | 코드 분석 |
| 테스트 수정 빈도 | 프로덕션 코드 변경 대비 테스트 수정 비율 | <= 1.5:1 | 커밋 분석 |
| 페이지 오브젝트 패턴 적용률 | E2E 테스트에서 PO 패턴 적용 비율 | >= 90% | 코드 리뷰 |

### 4.3 테스트 ROI (Test Return on Investment)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 버그 발견 비용 | 테스트로 버그 발견 시 비용 절감 | >= 10x | `(프로덕션 수정 비용 / 테스트 발견 비용)` |
| 테스트 작성 대비 효과 | 테스트 작성 시간 대비 발견 버그 수 | >= 0.5 버그/시간 | 시간 대비 발견 버그 |

---

## 5. 테스트 품질 지표 (Test Quality Metrics)

### 5.1 테스트 설계 품질 (Test Design Quality)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 테스트 가독성 점수 | 테스트 코드 가독성 (1-10) | >= 8 | 코드 리뷰 |
| Given-When-Then 준수율 | BDD 스타일 준수 비율 | >= 90% | 코드 분석 |
| 단일 책임 테스트 비율 | 하나의 기능만 검증하는 테스트 비율 | >= 95% | 코드 리뷰 |
| 테스트 명명 규칙 준수율 | 네이밍 컨벤션 준수 비율 | >= 95% | 린트 검사 |

### 5.2 어설션 품질 (Assertion Quality)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| 테스트당 평균 어설션 수 | 테스트 케이스당 어설션 수 | 1-5 | 코드 분석 |
| 구체적 어설션 비율 | 구체적인 값 검증 비율 | >= 90% | 코드 분석 |
| 에러 메시지 품질 | 실패 시 유용한 메시지 비율 | >= 85% | 코드 리뷰 |

---

## 6. TDD 실천 지표 (TDD Practice Metrics)

| 지표 | 설명 | 목표값 | 측정 방법 |
|------|------|--------|----------|
| TDD 사이클 준수율 | Red-Green-Refactor 순서 준수 비율 | >= 95% | 커밋 히스토리 분석 |
| 테스트 선행 비율 | 테스트가 구현보다 먼저 작성된 비율 | >= 90% | 커밋 타임스탬프 |
| 실패 테스트 커밋률 | Red 단계에서 실패하는 테스트 커밋 비율 | >= 85% | 커밋 분석 |
| 최소 구현 원칙 준수 | Green 단계에서 최소 코드만 작성 비율 | >= 80% | 코드 리뷰 |
| 리팩토링 빈도 | TDD 사이클당 리팩토링 실행 비율 | >= 75% | 리팩토링 커밋 분석 |

---

## 측정 주기 및 리포팅

| 주기 | 측정 항목 | 리포트 형식 |
|------|----------|-------------|
| 커밋당 | 테스트 통과율, 커버리지 변화 | CI 결과 |
| PR당 | 커버리지, 신규 테스트 분석 | PR 코멘트 |
| 일간 | 플레이키 테스트, 테스트 실행 시간 | 대시보드 |
| 주간 | 전체 KPI, 결함 감지율 | 주간 리포트 |
| 스프린트별 | 테스트 ROI, 결함 밀도 | 스프린트 회고 |

---

## 개선 액션 트리거

| 지표 | 임계값 | 트리거 액션 |
|------|--------|-------------|
| 커버리지 < 75% | Critical | 테스트 보강 스프린트 |
| 플레이키 테스트 > 0 | High | 즉시 수정 또는 스킵 처리 |
| 프로덕션 결함 유출률 > 10% | Critical | 테스트 전략 재검토 |
| 테스트 실행 시간 > 목표값 2배 | Medium | 테스트 최적화 |
| 테스트 재발 결함 > 5% | High | 회귀 테스트 강화 |
| TDD 준수율 < 80% | Medium | TDD 트레이닝 |

---

## 테스트 피라미드 권장 비율

```
        /\
       /  \      E2E: 10%
      /----\     (Cypress, Playwright)
     /      \
    /--------\   Integration: 20%
   /          \  (API 테스트, 서비스 통합)
  /------------\ Unit: 70%
 /              \ (Jest, Vitest)
```

| 테스트 유형 | 권장 비율 | 실행 시간 비중 |
|------------|----------|---------------|
| Unit Test | 70% | 20% |
| Integration Test | 20% | 30% |
| E2E Test | 10% | 50% |
